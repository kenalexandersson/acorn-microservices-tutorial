= Spring Cloud
:toc: left
:imagesdir: images

ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]

== Wrapping it up

=== End of the road

This is the end of the road, please pat yourself on a body part of your choice for celebrating the good work!

We have finally arrived at the solution we planned at the beginning of the tutorial.

image::overview-7-gateway.png[]

Let us do a brief recapitulation before we close the session. This is what we did today.

|===
|Task|Comment

|Created a central `config-server`
|A central configuration store was implemented in the form of _Spring Cloud Config Server_. Microservices can connect and fetch configuration from this server, which is very meaningful if multiple instances of services are run.

|Implemented `items-service` and `reviews-service`
|The two "base" services we implemented are perhaps pretty dumb, but they showed us the concepts of exposing a REST-api for communication with other services, and how to become registered into a service discovery server.

|Added `service-discovery-server`
|We now utilize an _Eureka_ server that keeps track of services for us. It knows which _host_ and _port_ each service use, information that other Spring Cloud applications can use when needed.

|Enabled registering of existing `items-service` and `reviews-service` to registry
|Our example microservices register to the discovery server during startup. During their life time they send heartbeats at regular intervals, letting the discovery server know they are healthy.

|Created the `webapi` component which discover and calls the above services using the `service-discovery-server`.
|The BFF WebApi component uses _Spring Cloud OpenFeign_ for calling and aggregating responses from the microservices. OpenFeign clients do not explicitly know where these services are located, instead they fetch this information from the discovery server.

|Used Ribbon as Client load balancer
|

|Looked at Hystrix for fault tolerance and Resiliency
|

|Added `gateway` as main entrance
|

|Dabbled a bit with _Spring Security_ in the `gateway`
|

|Enabled tracing information to be able to track a request
|
|===

http://lucasmatt.com/2017/08/22/spring-microservices/
